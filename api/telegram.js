export default async function handler(req, res) {
  try {
    const { message } = req.body || {};
    
    if (message?.text === '/start') {
      const chatId = message.chat.id;
      
      const welcomeMessage = `üåÄ *Tzolkin Tracker*

*–í–∞—à –ª–∏—á–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤*

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–∏ —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —á–µ—Ä–µ–∑ –¥—Ä–µ–≤–Ω—é—é —Å–∏—Å—Ç–µ–º—É –∫–∞–ª–µ–Ω–¥–∞—Ä—è –º–∞–π—è –¶–æ–ª—å–∫–∏–Ω \\(260\\-–¥–Ω–µ–≤–Ω—ã–π —Ü–∏–∫–ª\\)\\.

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

*üéØ –ì–ª–∞–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏*

*1\\. –î–Ω–µ–≤–Ω–∏–∫ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π*
–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –≤–∞—à–µ–π —ç–Ω–µ—Ä–≥–∏–∏\\, —Ä–µ–∑–æ–Ω–∞–Ω—Å–µ —Å –¥–Ω—ë–º\\, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π\\, –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö\\.

*2\\. –ó–∞–º–µ—Ç–∫–∏*
–í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫\\, –≥–¥–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç–µ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è\\. –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ –∑–∞–ø–∏—Å–∏ –∏ –¥–∞—ë—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏\\.

*3\\. –î–Ω–µ–≤–Ω–∏–∫ –≤–æ–ª–Ω*
–í—Å–µ –≤–∞—à–∏ –∑–∞–ø–∏—Å–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –¥–Ω–µ–≤–Ω–∏–∫ 13\\-–¥–Ω–µ–≤–Ω—ã—Ö –≤–æ–ª–Ω\\. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –¥–∏–Ω–∞–º–∏–∫—É —Ü–∏–∫–ª–æ–≤ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã\\.

*4\\. –ò–ò\\-—Å–æ–≤–µ—Ç—ã*
–ü–æ–ª—É—á–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—É—á–∏–Ω–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ –ö–∏–Ω–∞ —Ä–æ–∂–¥–µ–Ω–∏—è\\, —ç–Ω–µ—Ä–≥–∏–∏ –¥–Ω—è –∏ –∑–∞–º–µ—Ç–æ–∫\\.

*5\\. –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤*
–ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –≤–æ–ª–Ω—ã \\(13 –¥–Ω–µ–π\\) –ò–ò –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à –ª–∏—á–Ω—ã–π —Ä–∏—Ç–º: –ø–∏–∫–∏\\, —Å–ø–∞–¥—ã\\, –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –¥–Ω–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π\\.

*6\\. –õ–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å*
–£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π –ö–∏–Ω —Ä–æ–∂–¥–µ–Ω–∏—è\\, —á–∏—Å–ª–∞ –°–æ–∑–Ω–∞–Ω–∏—è –∏ –ú–∏—Å—Å–∏–∏ \\(—Å–∏—Å—Ç–µ–º–∞ –°—é—Ü–∞–π\\)\\. –ò–ò —Å–æ–∑–¥–∞—Å—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–≤—É—Ö —Å–∏—Å—Ç–µ–º\\.

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

*üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?*

1Ô∏è‚É£ –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2Ô∏è‚É£ –í–∏–¥–∏—Ç–µ —ç–Ω–µ—Ä–≥–∏—é —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è \\(–¢–æ–Ω \\+ –ü–µ—á–∞—Ç—å\\)
3Ô∏è‚É£ –û—Ç–≤–µ—á–∞–µ—Ç–µ –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤
4Ô∏è‚É£ –ü–∏—à–µ—Ç–µ –∑–∞–º–µ—Ç–∫—É \\(–∫–ª—é—á–µ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç\\!\\)
5Ô∏è‚É£ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –¥–µ–Ω—å \\‚Äî –ò–ò –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
6Ô∏è‚É£ –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ –ò–ò\\-—Å–æ–≤–µ—Ç –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

*üîÑ –†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 13 –¥–Ω–µ–π*

‚Ä¢ –í–∏–¥–∏—Ç–µ —Å–≤–æ—é –ª–∏—á–Ω—É—é –∫–∞—Ä—Ç—É —ç–Ω–µ—Ä–≥–∏–∏
‚Ä¢ –ü–æ–Ω–∏–º–∞–µ—Ç–µ\\, –≤ –∫–∞–∫–∏–µ –¥–Ω–∏ –≤—ã –Ω–∞ –ø–∏–∫–µ
‚Ä¢ –ó–Ω–∞–µ—Ç–µ\\, –∫–æ–≥–¥–∞ –ª—É—á—à–µ –æ—Ç–¥—ã—Ö–∞—Ç—å
‚Ä¢ –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç–µ —Å–≤–æ–∏ —Ü–∏–∫–ª—ã –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

*üí° –í–∞–∂–Ω–æ*

–≠—Ç–æ –Ω–µ –º–∞–≥–∏—è –∏ –Ω–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è\\.
–≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–∞–º–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏\\.

–ß–µ–º —á–µ—Å—Ç–Ω–µ–µ –≤—ã –æ—Ç–≤–µ—á–∞–µ—Ç–µ\\, —Ç–µ–º —Ç–æ—á–Ω–µ–µ –ø–∞—Ç—Ç–µ—Ä–Ω\\.
–ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –∑–∞–º–µ—Ç–∫–∏\\, —Ç–µ–º –ø–æ–ª–µ–∑–Ω–µ–µ –ò–ò\\-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏\\.

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

*‚ú® –ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å*

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–¥–∏—Ç–µ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å\\.
–ß–µ—Ä–µ–∑ 13 –¥–Ω–µ–π –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–≤–æ–π —Ä–∏—Ç–º\\.

üëá –ñ–º–∏ "–û—Ç–∫—Ä—ã—Ç—å –¢—Ä–µ–∫–µ—Ä"`;
      
      await fetch(`https://api.telegram.org/bot8140786228:AAEVndmITKCv7GtosJIa4KNYr1wyYETQ8co/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: chatId,
          text: welcomeMessage,
          parse_mode: 'MarkdownV2'
        })
      });
    }
    
    return res.status(200).json({ ok: true });
    
  } catch (error) {
    console.error('Error:', error);
    return res.status(200).json({ ok: false, error: error.message });
  }
}